<div warning></div>

<div class="container mainContainer fade show" ng-if="response_rdy && request_error">
    <div timeout></div>
</div>

<div class="container mainContainer fade show" ng-if="response_rdy && !request_error" id="evaluation">

    <div class="container evalTitle">
        <div class="row">
            <div class="col-11"><h2>{{evaluation.title}}</h2></div>
            <div class="orcid_logo col-1">
                <a href="{{evaluation['creator']}}" target="_blank" class="orcidLink">
                    <img src="assets/img/orcid.png" class="orcid_icon">
                </a>
            </div>
        </div>
    </div>

    <div class="" ng-controller="graphCtrl as Graph">
        <div class="container">
                <div class="row">
                    <div class="col-12">

                        <!-- Description -->
                        <div class="">
                            <label>Description: </label>
                            <span> {{evaluation["http://rdfs.org/ns/void#description"]}}</span>
                        </div>

                        <!-- Description -->
                        <div class="">
                            <label>Resource: </label>
                            <a href="{{resource}}" target="_blank"> {{resource}}</a>
                        </div>

                        <!-- Tested Against -->
                            <div class="">
                                <label> Collection: </label>
                                <a href="{{evaluation['collection']}}"> {{evaluation["collection"] | URL_last_arg}} </a>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <div class="container">
                            <div class="row"><label> Summary: </label></div>
                            <div class="row">
                                <div class="col-12">
                                    <md-switch class="chartSwitch md-primary" ng-model="charts_on" aria-label="Charts">
                                        Charts:
                                        <span ng-if="charts_on">Show</span>
                                        <span ng-if="!charts_on">Hide</span>
                                    </md-switch>
                                </div>
                            </div>
                        </div>


                    </div>

                    <div class="col-4 doughnut" ng-if="charts_on">
                        <div class="container">
                            <div class="row"> <h6>Number of stars </h6></div>
                            <div class="row">
                                <canvas id="doughnut"
                                        class="chart chart-doughnut row"
                                        chart-data="pie_data"
                                        chart-labels="pie_labels"
                                        width=100>
                                </canvas>
                            </div>

                        </div>
                    </div>

                    <div class="col-8 hBar" ng-if="charts_on">

                        <div class="container">
                            <div class="row"> <h6>Score per metric </h6> </div>
                            <canvas id="bar"
                                    class="chart chart-bar"
                                    chart-data="histo_data"
                                    chart-labels="histo_labels"
                                    chart-options="histo_options"
                                    chart-colors="colors">
                            </canvas>
                        </div>
                    </div>
                </div>

                <hr>

                <div class="row">
                    <div class="col-4 resultCol" ng-repeat="(resultKey, resultVal) in evaluation['evaluationResult']">
                        <div class="card">
                            <div class="card-body">

                                <h4>{{resultVal[0]['name']}}</h4>

                                <hr>
                                <!-- results /stars -->
                                <div class="stars">
                                    <div class="starContainer">
                                        <div id="star1" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0'">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div id="star2" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.25'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                        <div id="star3" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.5' || resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.50'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                        <div id="star4" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.75'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                        <div id="star5" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '1' || resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '1.0'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="comment">
                                    <label> Results:</label>
                                    <div class="newlines">{{resultVal[0]['http://schema.org/comment'][0]['@value']}}</div>
                                </div>

                                <div class="">
                                    <label>Created on: </label>
                                    <span> {{resultVal[0]["http://purl.obolibrary.org/obo/date"][0]["@value"] | date}} </span>
                                </div>

                                <div class="">
                                    <label>Score: </label>
                                    <span> {{resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value']}} </span>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <div class="goBack">
        <a ng-href="#!/evaluations">
        <button type="button"
                class="btn-primary btn">
            Go Back to Evaluations
        </button>
        </a>
    </div>
</div>

<!-- waiter -->
<div class="container fade show" ng-if="!response_rdy">
    <div loader></div>
</div>

