<div warning></div>

<div class="container mainContainer fade show" ng-if="response_rdy && request_error">
    <div timeout></div>
</div>

<!-- COLLECTIONS  AS GRID-->
<div class="container mainContainer fade show" ng-if="response_rdy && !request_error && collection_displayType == 'grid'">
    <div class="collections row fade show">
        <div class="col-12">
            <h2 class="mgBot"><span>FAIR Maturity Indicator - Collections</span></h2>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 col-xl-3 collectionsCards" ng-repeat="collection in content_output">
            <div class="card">
                <div class="card-body">
                    <div class="title">
                        <label class="collectionName">{{collection.name}}</label>
                    </div>
                    <hr>
                    <div class="description">
                        <label>Status:</label>
                        <span> Deprecated or Valid </span>
                    </div>
                    <div class="description">
                        <label>Description:</label>
                        <span> {{collection.description}} </span>
                    </div>

                    <div class="description">
                        <div class="description">
                        <label>Contact:</label>
                        <span> {{collection.contact | URL_last_arg}} </span>
                        </div>
                    </div>
                    <div>
                        <label>Organization:</label>
                        <span> {{collection.Organization}} </span>
                    </div>
                </div>

                <div class="buttonsContainer">
                    <button type="button"
                            class="btn btn-primary btn"
                            ng-click="goToCollection(collection['id'])">
                            <a>Show</a>
                    </button>

                    <button type="button"
                            class="btn btn-primary"
                            ng-click="goToRunEvaluation(collection['id'])">
                        Execute Evaluation
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- COLLECTIONS AS TABLE -->
<div class="container mainContainer fade show" ng-if="response_rdy && !request_error && collection_displayType == 'table'">

    <h2 class="col-12 mgBot"> <span>FAIR Maturity Indicator - Collections </span> </h2>

    <div class="col-12">
        <form>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-search"></i></div>
                    <input type="text" class="form-control" placeholder="Search collections" ng-model="collections_searchTerms">
                </div>
            </div>
        </form>
    </div>

    <table class="table table-hover table-light table-striped">
        <thead>
            <tr>
                <th scope="col">
                    <span>Status</span>
                </th>
                <th scope="col" ng-click="sortType.collections = 'name'; reverseSort.collections = !reverseSort.collections" class="clickMe">
                    <span>Title</span>
                    <span ng-show="sortType.collections == 'name' && !reverseSort.collections" class="fa fa-caret-down"></span>
                    <span ng-show="sortType.collections == 'name' && reverseSort.collections" class="fa fa-caret-up"></span>
                </th>
                <th scope="col" ng-click="sortType.collections = 'description'; reverseSort.collections = !reverseSort.collections" class="clickMe">
                    <span>Description</span>
                    <span ng-show="sortType.collections == 'description' && !reverseSort.collections" class="fa fa-caret-down"></span>
                    <span ng-show="sortType.collections == 'description' && reverseSort.collections" class="fa fa-caret-up"></span>
                </th>
                <th scope="col" ng-click="sortType.collections = 'Organization'; reverseSort.collections = !reverseSort.collections" class="clickMe">
                    <span>Organization</span>
                    <span ng-show="sortType.collections == 'Organization' && !reverseSort.collections" class="fa fa-caret-down"></span>
                    <span ng-show="sortType.collections == 'Organization' && reverseSort.collections" class="fa fa-caret-up"></span>
                </th>
                <th scope="col">
                    <span>Contact</span>
                </th>
                <th scope="col">View</th>
                <th scope="col">Execute</th>
            </tr>
        </thead>

        <tbody>
        <tr ng-repeat="collection in content_output | orderBy : sortType.collections:reverseSort.collections | filter:collections_searchTerms">
            <td class="col1">
                <i class="fa fa-check"></i>
            </td>
            <td>
                {{collection.name}}
            </td>
            <td>
                {{collection.description}}
            </td>
            <td>
                {{collection.Organization}}
            </td>
            <td>
                <a href="{{collection.contact}}" target="_blank" class="orcidLink">
                    <img src="assets/img/orcid.png" class="orcid_icon">
                </a>
            </td>

            <td>
                <i class="fas fa-share-square showButton" ng-click="goToCollection(collection['id'])"></i>
            </td>

            <td>
                <i class="fas fa-cogs showButton" ng-click="goToRunEvaluation(collection['id'])"></i>
            </td>
        </tr>
        </tbody>






    </table>

</div>

<!-- waiter -->
<div class="container fade show" ng-if="!response_rdy">
    <div loader></div>
</div>