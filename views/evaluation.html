<div class="container mainContainer fade show" ng-if="response_rdy" id="evaluation">

    <div class="container evalTitle">
        <div class="row">
            <div class="col-11"><h2>{{evaluation.title}}</h2></div>
            <div class="orcid_logo col-1">
                <a href="{{evaluation['creator']}}" target="_blank" class="orcidLink">
                    <img src="assets/img/orcid.png" class="orcid_icon">
                </a>
            </div>
        </div>
    </div>

    <div class="">
        <div class="container">
                <div class="row">
                    <div class="col-12">

                        <!-- Description -->
                        <div class="">
                            <label>Description: </label>
                            <span> {{evaluation["http://rdfs.org/ns/void#description"]}}</span>
                        </div>

                        <!-- Description -->
                        <div class="">
                            <label>Resource: </label>
                            <a href="{{resource}}" target="_blank"> {{resource}}</a>
                        </div>

                        <!-- Tested Against -->
                            <div class="">
                                <label> Collection: </label>
                                <a href="{{evaluation['collection']}}"> {{evaluation["collection"] | URL_last_arg}} </a>
                        </div>
                    </div>
                </div>

                <div class="row" >
                    <div class="col-12">
                        <label> Summary: </label>
                        <md-switch class="chartSwitch md-primary" ng-model="charts_on" aria-label="Charts">
                            Charts:
                            <span ng-if="charts_on">Show</span>
                            <span ng-if="!charts_on">Hide</span>
                        </md-switch>
                    </div>

                    <div class="col-4 doughnut" ng-if="charts_on">
                        <div class="container">
                            <label class="row" style="text-align:center"> Number of stars </label>
                            <canvas id="doughnut"
                                    class="chart chart-doughnut row"
                                    chart-data="pie_data"
                                    chart-labels="pie_labels">
                            </canvas>
                        </div>
                    </div>

                    <div class="col-8 hBar" ng-if="charts_on">

                        <div class="container">
                            <label class="row" style="text-align:center"> Score per metric </label>
                            <canvas id="bar" class="chart chart-horizontal-bar"
                                    chart-data="histo_data" chart-labels="histo_labels">
                            </canvas>
                        </div>
                    </div>
                </div>

                <hr>

                <div class="row">
                    <div class="col-4 resultCol" ng-repeat="(resultKey, resultVal) in evaluation['evaluationResult']">
                        <div class="card">
                            <div class="card-body">
                                <h4>{{resultKey | URL_last_arg | removeUnderscore}}</h4>
                                <hr>
                                <!-- results /stars -->
                                <div class="stars">
                                    <div class="starContainer">
                                        <div id="star1" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0'">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div id="star2" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.25'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                        <div id="star3" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.5' || resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.50'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                        <div id="star4" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '0.75'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                        <div id="star5" class="star"
                                             ng-if="resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '1' || resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value'] === '1.0'">
                                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="comment">
                                    <label> Description</label>
                                    <span>{{resultVal[0]['http://schema.org/comment'][0]['@value']}}</span>
                                </div>

                                <div class="">
                                    <label>Created on: </label>
                                    <span> {{resultVal[0]["http://purl.obolibrary.org/obo/date"][0]["@value"] | date}} </span>
                                </div>

                                <div class="">
                                    <label>Score: </label>
                                    <span> {{resultVal[0]['http://semanticscience.org/resource/SIO_000300'][0]['@value']}} </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <div class="goBack">
        <button type="button"
                class="btn-primary btn"
                ng-click="goToEvaluations()">
            Go Back to Evaluations
        </button>
    </div>
</div>

<!-- waiter -->
<div class="container fade show" ng-if="!response_rdy">
    <div loader></div>
</div>

